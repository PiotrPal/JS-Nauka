<!DOCTYPE html>
<html>
  <head>
    <title>Rock Paper Scissors</title>
    <style>
    
    </style>
  </head>

  <body>
    <p>Rock Paper Scissors</p>
    <div>
      <button id="Rock" onclick="Play(id)">Rock</button>
      <button id="Paper" onclick="Play(id)">Paper</button>
      <button id="Scissors" onclick="Play(id)">Scissors</button>
      <p></p>
      <button onclick="resetScore()">ResetScore</button>
    </div>
    <script>
      let score = JSON.parse(localStorage.getItem('score')) || {
          wins: 0,
          losses: 0,
          ties: 0
        };
        
      // if(!score){ 
      //   score = {
      //     wins: 0,
      //     losses: 0,
      //     ties: 0
      //   };
      // }

      function Play (option){
        const random = Math.random();
        console.log(random);
        if(random >= 0 && random <1/3){
          //Rock
          if(option === "Paper"){
            alertDisplay('win','Rock');
          }
          else if (option === "Rock"){
            alertDisplay('tie','Rock');
          }
          else{
            alertDisplay('lose','Rock');
          }
        } else if(random >= 1/3 && random <2/3){
          //Paper
          if(option === "Scissors"){
            alertDisplay('win','Paper');
          }
          else if (option === "Paper"){
            alertDisplay('tie','Paper');
          }
          else{
            alertDisplay('lose','Paper');
          }
        }
        else if(random >= 2/3 && random <1){
          //Scissors                    
          if(option === "Rock"){
            alertDisplay('win','Scissors');                                 
          }
          else if (option === "Scissors"){
            alertDisplay('tie','Scissors');
          }
          else{
            alertDisplay('lose','Scissors');
          }
        }
      }

      function alertDisplay(option,pcMove){
        if(option === 'win'){
          score.wins++;
          alert(`Computer selected: ${pcMove} You Won! ` + `\nW: ${score.wins} L: ${score.losses} T: ${score.ties}` );
        }
        else if(option === 'lose'){
          score.losses++;
          alert(`Computer selected: ${pcMove} Lose :( ` + `\nW: ${score.wins} L: ${score.losses} T: ${score.ties}` );
        }
        else{
          score.ties++;
          alert(`Computer selected: ${pcMove} Tie! ` + `\nW: ${score.wins} L: ${score.losses} T: ${score.ties}` );
        }

        localStorage.setItem('score', JSON.stringify(score));
      }

      function resetScore(){
        score.wins = 0;
        score.losses = 0;
        score.ties = 0;
        localStorage.removeItem('score');
      }
      // true ? 'yes' : 'no'
    </script>
  </body>
</html>
